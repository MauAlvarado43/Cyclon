"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolvers=undefined;var _CycloneModel=require("../models/CycloneModel");function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var resolvers=exports.resolvers={Query:{activeCyclones:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(root,args,context,info){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _CycloneModel.CycloneModel.find({active:true});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,this)}));function activeCyclones(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}return activeCyclones}(),searchCyclone:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(root,args,context,info){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _CycloneModel.CycloneModel.find({appearance:{$gte:new Date(args.year.toString()),$lte:new Date((args.year+1).toString())}}).sort({appearance:+1}).find(function(err,docs){if(err)return[];else return docs});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}},_callee2,this)}));function searchCyclone(_x5,_x6,_x7,_x8){return _ref2.apply(this,arguments)}return searchCyclone}()}};